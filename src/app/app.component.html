<div class="main">
  <div class="input-container">
    <input
      class="input"
      type="text"
      placeholder="Имя пользователя..."
      [(ngModel)]="search"
      autofocus="autofocus"
    >
    <button class="btn" (click)="onSearch()" >Найти</button>
  </div>

  <p *ngIf="error; else mainBlock" class="error">Упс, произошла ошибка: {{error}}
  </p>

  <ng-template #mainBlock>
    <div *ngIf="!loading; else loadingBlock" >
      <div>
        <div class="user" *ngFor="let user of users | paginate : {
          itemsPerPage: per_page,
          currentPage: page,
          totalItems: total_count
        }">
          <div class="user__foto-container" >
            <a href="{{user.html_url}}" target="_blank">
              <img src="{{user.avatar_url}}" alt="" class="user__foto" >
            </a>
          </div>
          <div class="user__profile">
            <h2 class="user__name">{{user.login | titlecase}}</h2>
            <a href="{{user.html_url}}" target="_blank" class="user__link">{{user.html_url}}</a>
          </div>
        </div>
      </div>
    </div>

  </ng-template>
  <ng-template   #loadingBlock>
    <p class="loading">Загрузка....</p>
  </ng-template>
  <app-on-me [hidden]="!meBlock || noUsers"></app-on-me>

  <div [hidden]="!noUsers">
    <p class="notFoundText">Упс, по данному запросу ничего не найдено</p>
    <app-not-found></app-not-found>
  </div>

</div>

<div class="pagination" [hidden]="!meBlock && noUsers || meBlock || noUsers">
  <pagination-controls
    (pageChange)="pageChanged($event)"
    previousLabel="Previous"
  ></pagination-controls>
</div>




